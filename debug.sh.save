#!/bin/bash
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó —ñ –∑–∞–ø—É—Å–∫—É –≤ LLDB

SRC="Lab_3.1.cpp"
OUT="Lab_3.1"

# –ö—Ä–æ–∫ 1: –∫–æ–º–ø—ñ–ª—è—Ü—ñ—è –∑ debug-—ñ–Ω—Ñ–æ
echo "üî® –ö–æ–º–ø—ñ–ª—è—Ü—ñ—è $SRC ..."
clang++ -g "$SRC" -o "$OUT"

# –Ø–∫—â–æ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—è –ø—Ä–æ–π—à–ª–∞ —É—Å–ø—ñ—à–Ω–æ
if [ $? -eq 0 ]; then
    echo "‚úÖ –ö–æ–º–ø—ñ–ª—è—Ü—ñ—è —É—Å–ø—ñ—à–Ω–∞. –ó–∞–ø—É—Å–∫–∞—é LLDB..."
    lldb "./$OUT"
else
    echo "‚ùå –ü–æ–º–∏–ª–∫–∞ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó!"
fi

chmod +x debug.sh

./debug.sh
(lldb) breakpoint set --file Lab_3.1.cpp --line 15
(lldb) run
